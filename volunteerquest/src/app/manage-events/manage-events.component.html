<h1>Manage Events</h1>
<h4>demonstrates CRUD methods add(), read(), update(), & delete()</h4>

<form [formGroup]="eventForm" (ngSubmit)="save()" class="form-group">
  <label for="title" class="form-label">title</label>
  <input class="form-input" placeholder="your event title" id="title" type="text" formControlName="title">
  <label class="form-label" for="content">content</label>
  <textarea class="form-input" placeholder="your event content" id="content" formControlName="content"></textarea>
  <button class="btn btn-primary" type="submit" [disabled]="eventForm.invalid">save</button>
</form>

<br>
<label>Filter by Title</label>
<input class="input" [(ngModel)]="title_term">
<br>
<label>Filter by Category</label>
<select [(ngModel)] = "cat_term">
  <option value="humanitarian">Humanitarian</option>
  <option value="animal">Animals</option>
  <option value="environmental">Environmental</option>
  <option value="education">Education</option>
</select>
<br><br>
<label>Filter by Coordinates (to be replaced by address lookup)</label>
<br>
<label>lat</label>
<input class="input" [(ngModel)]="lat_term">
<label>lng</label>
<input class="input" [(ngModel)]="lng_term">
<label>radius (miles)</label>
<input class="input" [(ngModel)]="radius_term">

<h2> View Events </h2>
<div class="card" *ngFor="let event of events$ | searchCategoryPipe : cat_term | searchTitlePipe : title_term | searchGeospatialPipe : lat_term : lng_term : radius_term |  async">
    <div class="card-header">
      <div class="card-title h5">{{event.title}}</div>
    </div>
    <div class="card-body">
      <p>{{event.content}}</p>
    </div>
    <div class="card-footer">
      <button class="btn btn-primary" (click)="like(event)">Like</button>
      <span>{{event.likes}} Likes</span>
      <button class="btn btn-primary" (click)="remove(event.id)">Delete</button>
    </div>
  </div>
